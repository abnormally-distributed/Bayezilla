
model{
for(i in 1:N) {
  tauTilde[i] ~ dgamma(2, 1)
  muTilde[i] ~ dnorm(0, tauTilde[i])
}

pi[1:N] ~ ddirch(alpha)

for(i in 1:N) {
  mu[i] <- muTilde[pi[i]]
  tau[i] <- tauTilde[pi[i]]
  y[i] ~ dnorm(mu[i], tau[i])
}
}

