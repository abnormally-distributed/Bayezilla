model{

 y ~ dmnorm(mu, inverse(Sigma))
 ySim ~ dmnorm(mu, inverse(Sigma))
 
 for (i in 1:N) {
    mu[i] ~ dnorm(0, 1)
 }

 for (i in 1:(N-1)) {
    for (j in (i+1):N) {
        Sigma[i,j] <- sigma2 * exp(- pow(l*d[i,j],2))
        Sigma[j,i] <- Sigma[i,j]
    }
 }

 for (k in 1:N) {
 Sigma[k,k] <- sigma2 + sigma2_w
 }

 sigma2_w ~ dunif(0, 100)
 nu ~ dgamma(2, .01)
 tau ~ dgamma(nu / 2, nu / 2)
 sigma2 <- 1/ tau
 l ~ dunif(0, 100)
 }
